<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MULLER&PEREZ CRM - Meta App Review Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 210mm;
            margin: 0 auto;
            padding: 20mm;
            background: white;
        }

        .header {
            text-align: center;
            border-bottom: 4px solid #1877F2;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #1877F2;
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 14px;
        }

        .section {
            margin-bottom: 30px;
            page-break-inside: avoid;
        }

        .section h2 {
            color: #1877F2;
            font-size: 20px;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #e4e6eb;
        }

        .section h3 {
            color: #444;
            font-size: 16px;
            margin: 15px 0 10px 0;
        }

        .credentials-box {
            background: #f0f2f5;
            border-left: 4px solid #1877F2;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }

        .credentials-box p {
            margin: 5px 0;
        }

        .feature-list {
            list-style: none;
            margin: 15px 0;
        }

        .feature-list li {
            padding: 8px 0 8px 30px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #42b72a;
            font-weight: bold;
            font-size: 18px;
        }

        .api-endpoint {
            background: #f7f7f7;
            border: 1px solid #ddd;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            border-radius: 4px;
        }

        .step-box {
            background: #e7f3ff;
            border-left: 4px solid #1877F2;
            padding: 15px;
            margin: 10px 0;
        }

        .step-box h4 {
            color: #1877F2;
            margin-bottom: 10px;
        }

        .important {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }

        .screenshot-placeholder {
            border: 2px dashed #ccc;
            padding: 40px;
            text-align: center;
            margin: 15px 0;
            background: #f9f9f9;
            color: #999;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }

        table th {
            background: #1877F2;
            color: white;
            padding: 10px;
            text-align: left;
        }

        table td {
            padding: 10px;
            border-bottom: 1px solid #e4e6eb;
        }

        table tr:hover {
            background: #f7f7f7;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e4e6eb;
            text-align: center;
            color: #666;
            font-size: 12px;
        }

        @media print {
            body {
                padding: 10mm;
            }

            .section {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üì± MULLER&PEREZ CRM</h1>
        <p>Documentaci√≥n para Revisi√≥n de Aplicaci√≥n Meta</p>
        <p><strong>App ID:</strong> 1389537399297748 | <strong>Fecha:</strong> Noviembre 2024</p>
    </div>

    <!-- SECCI√ìN 1: INFORMACI√ìN GENERAL -->
    <div class="section">
        <h2>1. Informaci√≥n General de la Aplicaci√≥n</h2>

        <p><strong>Nombre:</strong> MULLER&PEREZ CRM</p>
        <p><strong>Tipo:</strong> Aplicaci√≥n Web (SaaS)</p>
        <p><strong>URL:</strong> <a href="https://mulleryperez.cl">https://mulleryperez.cl</a></p>
        <p><strong>Prop√≥sito:</strong> Sistema de gesti√≥n de relaciones con clientes (CRM) integrado con Meta Ads para visualizaci√≥n de m√©tricas de campa√±as publicitarias y gesti√≥n de leads.</p>

        <div class="important">
            <strong>‚ö†Ô∏è Importante:</strong> Esta es una aplicaci√≥n de uso interno para nuestros clientes de agencia de marketing digital. No es una app p√∫blica ni requiere instalaci√≥n desde tiendas de aplicaciones.
        </div>
    </div>

    <!-- SECCI√ìN 2: CREDENCIALES DE ACCESO -->
    <div class="section">
        <h2>2. Credenciales de Acceso para Revisi√≥n</h2>

        <h3>2.1 URL de Acceso</h3>
        <div class="credentials-box">
            <p><strong>URL Login:</strong> https://mulleryperez.cl/crm/login</p>
        </div>

        <h3>2.2 Credenciales de Prueba</h3>
        <div class="credentials-box">
            <p><strong>Usuario:</strong> demo@test.com</p>
            <p><strong>Contrase√±a:</strong> Demo2024!</p>
            <p><strong>Rol:</strong> Cliente con acceso completo</p>
            <p><strong>Validez:</strong> 12 meses desde la fecha de env√≠o</p>
        </div>

        <div class="important">
            <strong>Nota:</strong> Esta cuenta est√° conectada a una cuenta de Meta Ads de prueba con datos de demostraci√≥n. Todos los datos mostrados son ficticios para prop√≥sitos de revisi√≥n.
        </div>
    </div>

    <!-- SECCI√ìN 3: FLUJO DE NAVEGACI√ìN -->
    <div class="section">
        <h2>3. Flujo de Navegaci√≥n Paso a Paso</h2>

        <div class="step-box">
            <h4>Paso 1: Acceso al Sistema</h4>
            <ol>
                <li>Abrir navegador e ir a: <code>https://mulleryperez.cl/crm/login</code></li>
                <li>Ingresar credenciales proporcionadas</li>
                <li>Click en bot√≥n "Iniciar Sesi√≥n"</li>
            </ol>
            <div class="screenshot-placeholder">
                [SCREENSHOT 1: Pantalla de login con credenciales visibles]
            </div>
        </div>

        <div class="step-box">
            <h4>Paso 2: Dashboard Principal</h4>
            <p>Despu√©s del login, el usuario accede al dashboard principal que muestra:</p>
            <ul>
                <li>Resumen de m√©tricas agregadas</li>
                <li>Acceso r√°pido a secciones principales</li>
                <li>Men√∫ de navegaci√≥n lateral</li>
            </ul>
            <div class="screenshot-placeholder">
                [SCREENSHOT 2: Dashboard principal con men√∫ visible]
            </div>
        </div>

        <div class="step-box">
            <h4>Paso 3: Visualizaci√≥n de Campa√±as de Meta Ads</h4>
            <ol>
                <li>En el men√∫ lateral, click en "Campa√±as"</li>
                <li>La p√°gina carga datos sincronizados desde Meta Marketing API</li>
                <li>Se muestran m√∫ltiples visualizaciones:</li>
            </ol>

            <h3 style="margin-left: 20px;">3.1 Cards de Resumen</h3>
            <p style="margin-left: 20px;">M√©tricas agregadas: inversi√≥n total, clicks, impresiones, conversiones, CTR, CPC</p>
            <div class="screenshot-placeholder">
                [SCREENSHOT 3: Cards de resumen con m√©tricas]
            </div>

            <h3 style="margin-left: 20px;">3.2 Gr√°fico de Tendencias</h3>
            <p style="margin-left: 20px;">Evoluci√≥n de m√©tricas en el tiempo</p>
            <div class="screenshot-placeholder">
                [SCREENSHOT 4: Gr√°fico multi-serie de tendencias]
            </div>

            <h3 style="margin-left: 20px;">3.3 Comparaci√≥n por Plataforma</h3>
            <p style="margin-left: 20px;">Desglose Instagram vs Facebook vs otras plataformas</p>
            <div class="screenshot-placeholder">
                [SCREENSHOT 5: Gr√°fico comparativo por plataforma]
            </div>

            <h3 style="margin-left: 20px;">3.4 Galer√≠a de Anuncios Individuales</h3>
            <p style="margin-left: 20px;">Vista de grid con thumbnails, engagement y m√©tricas por anuncio</p>
            <div class="screenshot-placeholder">
                [SCREENSHOT 6: Galer√≠a de anuncios con thumbnails]
            </div>
        </div>

        <div class="step-box">
            <h4>Paso 4: Gesti√≥n de Leads</h4>
            <ol>
                <li>En el men√∫ lateral, click en "Leads"</li>
                <li>Se muestra tabla con leads sincronizados desde Meta Lead Ads</li>
                <li>Informaci√≥n capturada: nombre, email, tel√©fono, fecha de creaci√≥n</li>
            </ol>
            <div class="screenshot-placeholder">
                [SCREENSHOT 7: Tabla de leads]
            </div>
        </div>
    </div>

    <!-- SECCI√ìN 4: FUNCIONALIDADES PRINCIPALES -->
    <div class="section">
        <h2>4. Funcionalidades Principales</h2>

        <ul class="feature-list">
            <li><strong>Dashboard de M√©tricas:</strong> Visualizaci√≥n en tiempo real de m√©tricas de campa√±as de Meta Ads</li>
            <li><strong>Comparaci√≥n por Plataforma:</strong> Desglose de rendimiento por Instagram, Facebook, Audience Network y Messenger</li>
            <li><strong>An√°lisis de Anuncios:</strong> Vista individual de cada anuncio con thumbnails, textos creativos y engagement</li>
            <li><strong>Gesti√≥n de Leads:</strong> Sincronizaci√≥n autom√°tica de leads desde Meta Lead Ads</li>
            <li><strong>Reportes Hist√≥ricos:</strong> Acceso a datos hist√≥ricos con diferentes per√≠odos (7, 30, 90 d√≠as)</li>
            <li><strong>Sistema de Cotizaciones:</strong> Generaci√≥n de cotizaciones para clientes</li>
            <li><strong>Multi-cliente:</strong> Gesti√≥n de m√∫ltiples clientes desde una sola plataforma</li>
        </ul>
    </div>

    <!-- SECCI√ìN 5: INTEGRACI√ìN CON META APIs -->
    <div class="section">
        <h2>5. Integraci√≥n con APIs de Meta</h2>

        <h3>5.1 Permisos Solicitados</h3>
        <table>
            <thead>
                <tr>
                    <th>Permiso</th>
                    <th>Prop√≥sito</th>
                    <th>Uso en la App</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>ads_read</code></td>
                    <td>Leer datos de campa√±as y anuncios</td>
                    <td>Obtener m√©tricas de campa√±as, anuncios y creativos</td>
                </tr>
                <tr>
                    <td><code>ads_management</code></td>
                    <td>Gestionar campa√±as publicitarias</td>
                    <td>Acceso completo a insights y m√©tricas detalladas</td>
                </tr>
                <tr>
                    <td><code>leads_retrieval</code></td>
                    <td>Recuperar leads de formularios</td>
                    <td>Sincronizar leads desde Meta Lead Ads</td>
                </tr>
                <tr>
                    <td><code>pages_show_list</code></td>
                    <td>Listar p√°ginas asociadas</td>
                    <td>Identificar p√°ginas de Facebook/Instagram del cliente</td>
                </tr>
                <tr>
                    <td><code>business_management</code></td>
                    <td>Gestionar assets de negocio</td>
                    <td>Acceder a cuentas publicitarias y assets asociados</td>
                </tr>
            </tbody>
        </table>

        <h3>5.2 Endpoints de Meta API Utilizados</h3>

        <h4>Marketing API - Campa√±as</h4>
        <div class="api-endpoint">
GET /v21.0/act_{ad_account_id}/campaigns
<br>Prop√≥sito: Obtener lista de campa√±as activas
        </div>

        <div class="api-endpoint">
GET /v21.0/{campaign_id}/insights?fields=campaign_name,spend,impressions,clicks,reach,frequency,actions&breakdowns=publisher_platform&time_increment=1
<br>Prop√≥sito: Obtener m√©tricas de campa√±a con desglose por plataforma (Instagram/Facebook)
        </div>

        <h4>Marketing API - Anuncios</h4>
        <div class="api-endpoint">
GET /v21.0/{campaign_id}/ads?fields=name,status,creative
<br>Prop√≥sito: Obtener lista de anuncios de una campa√±a
        </div>

        <div class="api-endpoint">
GET /v21.0/{ad_id}/insights?fields=spend,impressions,clicks,actions,action_values&breakdowns=publisher_platform
<br>Prop√≥sito: Obtener m√©tricas detalladas por anuncio individual
        </div>

        <div class="api-endpoint">
GET /v21.0/{ad_id}/creative?fields=thumbnail_url,body,link_url,title
<br>Prop√≥sito: Obtener informaci√≥n del creativo (thumbnails, textos)
        </div>

        <h4>Lead Ads API</h4>
        <div class="api-endpoint">
GET /v21.0/{page_id}/leadgen_forms
<br>Prop√≥sito: Obtener formularios de Lead Ads asociados a la p√°gina
        </div>

        <div class="api-endpoint">
GET /v21.0/{form_id}/leads
<br>Prop√≥sito: Obtener leads capturados desde formularios
        </div>

        <h3>5.3 Flujo de Sincronizaci√≥n</h3>
        <ol>
            <li><strong>Autenticaci√≥n:</strong> La app utiliza System User Token o User Access Token para autenticarse</li>
            <li><strong>Consulta de Campa√±as:</strong> Se obtienen las campa√±as del ad account del cliente</li>
            <li><strong>Obtenci√≥n de Insights:</strong> Para cada campa√±a, se consultan insights con breakdown por plataforma</li>
            <li><strong>Datos de Anuncios:</strong> Se obtienen m√©tricas a nivel de anuncio individual</li>
            <li><strong>Creativos:</strong> Se descargan thumbnails y textos de los creativos</li>
            <li><strong>Almacenamiento:</strong> Los datos se guardan en base de datos Supabase para consulta r√°pida</li>
            <li><strong>Visualizaci√≥n:</strong> Los datos se presentan en dashboards interactivos</li>
        </ol>
    </div>

    <!-- SECCI√ìN 6: ARQUITECTURA T√âCNICA -->
    <div class="section">
        <h2>6. Arquitectura T√©cnica</h2>

        <h3>6.1 Stack Tecnol√≥gico</h3>
        <ul class="feature-list">
            <li><strong>Frontend:</strong> Next.js 14 con TypeScript</li>
            <li><strong>Backend:</strong> Next.js API Routes</li>
            <li><strong>Base de Datos:</strong> Supabase (PostgreSQL)</li>
            <li><strong>Hosting:</strong> Vercel</li>
            <li><strong>Gr√°ficos:</strong> Recharts</li>
            <li><strong>Autenticaci√≥n:</strong> Sistema custom con Supabase Auth</li>
        </ul>

        <h3>6.2 Estructura de Base de Datos</h3>
        <table>
            <thead>
                <tr>
                    <th>Tabla</th>
                    <th>Prop√≥sito</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>platform_integrations</code></td>
                    <td>Almacena tokens de acceso y configuraci√≥n de Meta</td>
                </tr>
                <tr>
                    <td><code>ads_metrics_daily</code></td>
                    <td>M√©tricas diarias agregadas por campa√±a y plataforma</td>
                </tr>
                <tr>
                    <td><code>ads_metrics_by_ad</code></td>
                    <td>M√©tricas detalladas por anuncio individual</td>
                </tr>
                <tr>
                    <td><code>leads</code></td>
                    <td>Leads sincronizados desde Meta Lead Ads</td>
                </tr>
                <tr>
                    <td><code>clientes</code></td>
                    <td>Informaci√≥n de clientes de la agencia</td>
                </tr>
            </tbody>
        </table>

        <h3>6.3 Seguridad y Privacidad</h3>
        <ul class="feature-list">
            <li>Tokens de acceso almacenados de forma segura con encriptaci√≥n</li>
            <li>Autenticaci√≥n requerida para todas las rutas del CRM</li>
            <li>Separaci√≥n de datos por cliente (multi-tenancy)</li>
            <li>HTTPS en todas las comunicaciones</li>
            <li>Cumplimiento con pol√≠tica de privacidad de Meta</li>
            <li>No se comparten datos entre clientes</li>
        </ul>
    </div>

    <!-- SECCI√ìN 7: CASOS DE USO -->
    <div class="section">
        <h2>7. Casos de Uso T√≠picos</h2>

        <div class="step-box">
            <h4>Caso de Uso 1: Revisi√≥n de Rendimiento de Campa√±as</h4>
            <p><strong>Actor:</strong> Cliente de la agencia (ej: e-commerce)</p>
            <p><strong>Flujo:</strong></p>
            <ol>
                <li>Cliente inicia sesi√≥n en el CRM</li>
                <li>Accede a secci√≥n "Campa√±as"</li>
                <li>Revisa m√©tricas del √∫ltimo mes</li>
                <li>Compara rendimiento Instagram vs Facebook</li>
                <li>Identifica anuncios con mejor CTR</li>
                <li>Descarga reporte para reuni√≥n interna</li>
            </ol>
        </div>

        <div class="step-box">
            <h4>Caso de Uso 2: Gesti√≥n de Leads</h4>
            <p><strong>Actor:</strong> Equipo de ventas del cliente</p>
            <p><strong>Flujo:</strong></p>
            <ol>
                <li>Sistema sincroniza autom√°ticamente leads desde Meta Lead Ads</li>
                <li>Usuario accede a secci√≥n "Leads"</li>
                <li>Revisa nuevos leads del d√≠a</li>
                <li>Exporta datos para CRM interno</li>
                <li>Marca leads como contactados</li>
            </ol>
        </div>

        <div class="step-box">
            <h4>Caso de Uso 3: An√°lisis de Creativos</h4>
            <p><strong>Actor:</strong> Equipo creativo</p>
            <p><strong>Flujo:</strong></p>
            <ol>
                <li>Accede a galer√≠a de anuncios</li>
                <li>Filtra por plataforma (Instagram)</li>
                <li>Ordena por engagement</li>
                <li>Identifica patrones en creativos exitosos</li>
                <li>Toma decisiones para nuevas campa√±as</li>
            </ol>
        </div>
    </div>

    <!-- SECCI√ìN 8: CONTACTO -->
    <div class="section">
        <h2>8. Informaci√≥n de Contacto</h2>

        <table>
            <tbody>
                <tr>
                    <td><strong>Empresa:</strong></td>
                    <td>MULLER&PEREZ Marketing Digital</td>
                </tr>
                <tr>
                    <td><strong>Sitio Web:</strong></td>
                    <td><a href="https://mulleryperez.cl">https://mulleryperez.cl</a></td>
                </tr>
                <tr>
                    <td><strong>Email de Soporte:</strong></td>
                    <td>contacto@mulleryperez.cl</td>
                </tr>
                <tr>
                    <td><strong>Pa√≠s:</strong></td>
                    <td>Chile</td>
                </tr>
            </tbody>
        </table>

        <div class="important">
            <strong>Para el equipo de revisi√≥n:</strong><br>
            Si tienen alguna pregunta o necesitan acceso adicional durante el proceso de revisi√≥n, no duden en contactarnos. Estamos disponibles para proporcionar cualquier informaci√≥n adicional que requieran.
        </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
        <p><strong>Documento preparado para:</strong> Meta App Review Team</p>
        <p><strong>Fecha de generaci√≥n:</strong> Noviembre 2024</p>
        <p><strong>Versi√≥n:</strong> 1.0</p>
        <hr style="margin: 15px 0; border: none; border-top: 1px solid #e4e6eb;">
        <p>¬© 2024 MULLER&PEREZ. Todos los derechos reservados.</p>
    </div>
</body>
</html>
